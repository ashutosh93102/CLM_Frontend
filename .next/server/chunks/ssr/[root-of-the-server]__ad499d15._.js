module.exports=[18622,(a,b,c)=>{b.exports=a.x("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js",()=>require("next/dist/compiled/next-server/app-page-turbo.runtime.prod.js"))},42602,(a,b,c)=>{"use strict";b.exports=a.r(18622)},87924,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].ReactJsxRuntime},72131,(a,b,c)=>{"use strict";b.exports=a.r(42602).vendored["react-ssr"].React},81708,a=>{"use strict";let b=(process.env.NEXT_PUBLIC_API_BASE_URL||process.env.NEXT_PUBLIC_API_URL||"https://lawflow-267708864896.asia-south1.run.app").trim().replace(/\/+$/,"");a.s(["API_BASE_URL",0,b])},7185,a=>{"use strict";let b=a.i(81708).API_BASE_URL;class c extends Error{status;message;data;constructor(a,b,c){super(b),this.status=a,this.message=b,this.data=c,this.name="APIError"}}async function d(a){let b,d=a.headers.get("content-type");try{b=d?.includes("application/json")?await a.json():await a.text()}catch(a){b=null}if(!a.ok){let d=b?.error||b?.message||b?.detail||("string"==typeof b?b:null)||function a(b){if(!b||"object"!=typeof b||Array.isArray(b))return null;let c=[];for(let[d,e]of Object.entries(b)){if(null==e)continue;let b=String(d),f=b.replace(/_/g," "),g=b=>{if(null==b)return[];if("string"==typeof b)return[b];if(Array.isArray(b))return b.flatMap(g);if("object"==typeof b){if("string"==typeof b.detail)return[b.detail];if("string"==typeof b.message)return[b.message];let c=a(b);if(c)return[c];try{return[JSON.stringify(b)]}catch{}}return[String(b)]},h=g(e).filter(Boolean);if(0!==h.length){if("non_field_errors"===b||"detail"===b){c.push(h.join(" "));continue}c.push(`${f}: ${h.join(" ")}`)}}return c.length?c.join(" â€¢ "):null}(b)||`HTTP Error: ${a.status}`;throw new c(a.status,d,b)}return b}let e={_notifyAuthChanged:()=>{},getAccessToken:()=>null,getRefreshToken:()=>null,setTokens:(a,b)=>{},setUser:a=>{},getUser:()=>null,clearTokens:()=>{},decodeToken:a=>{try{let b=a.split(".");if(3!==b.length)throw Error("Invalid token format");return JSON.parse(Buffer.from(b[1],"base64").toString("utf-8"))}catch(a){return console.error("Failed to decode token:",a),null}},isTokenExpired:a=>{let b=e.decodeToken(a);if(!b||!b.exp)return!0;let c=1e3*b.exp;return Date.now()>=c},getTokenExpirationTime:a=>{let b=e.decodeToken(a);return b&&b.exp?1e3*b.exp-Date.now():0}};async function f(a){return d(await fetch(`${b}/api/auth/register/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}))}async function g(a){return d(await fetch(`${b}/api/auth/login/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}))}async function h(a){let c=await fetch(`${b}/api/auth/google/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({credential:a})}),f=await d(c);return e.setTokens(f.access,f.refresh),e.setUser(f.user),f}async function i(a){return d(await fetch(`${b}/api/auth/request-login-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}))}async function j(a){let c=await fetch(`${b}/api/auth/verify-email-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}),f=await d(c);return e.setTokens(f.access,f.refresh),e.setUser(f.user),f}async function k(a){return d(await fetch(`${b}/api/auth/forgot-password/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}))}async function l(a){return d(await fetch(`${b}/api/auth/verify-password-reset-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}))}async function m(a){return d(await fetch(`${b}/api/auth/resend-password-reset-otp/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:a})}))}async function n(a){return d(await fetch(`${b}/api/auth/reset-password/`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)}))}a.s(["APIError",()=>c,"authAPI",0,{register:async a=>{let b=[a.first_name,a.last_name].filter(Boolean).join(" ").trim()||a.first_name||a.last_name||a.email;return await f({email:a.email,password:a.password,full_name:b,...a.company?{company:a.company}:{}})},login:async a=>{let b=await g(a);return e.setTokens(b.access,b.refresh),e.setUser(b.user),b},googleLogin:async a=>h(a),forgotPassword:async a=>k(a),resetPassword:async a=>n(a),logout:()=>{e.clearTokens()}},"requestLoginOTP",()=>i,"requestPasswordReset",()=>k,"resendPasswordResetOTP",()=>m,"resetPassword",()=>n,"tokenManager",0,e,"verifyEmailOTP",()=>j,"verifyPasswordResetOTP",()=>l])},64440,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(7185),e=a.i(98448);let f=(0,c.createContext)(void 0);function g({children:a}){let[g,h]=(0,c.useState)(!1),[i,j]=(0,c.useState)(!0),[k,l]=(0,c.useState)(null),[m,n]=(0,c.useState)(null);(0,c.useEffect)(()=>((async()=>{let a=d.tokenManager.getAccessToken(),b=d.tokenManager.getUser();if(h(!!a),n(b),a&&!b)try{let a=new e.ApiClient,b=await a.getCurrentUser();if(b.success&&b.data){let a=b.data;n(a),d.tokenManager.setUser(a)}}catch{}j(!1)})(),()=>{}),[]);let o=async(a,b)=>{try{l(null);let c=await d.authAPI.login({email:a,password:b});n(c.user),h(!0)}catch(a){throw l(a?.message||a?.detail||"Login failed"),a}},p=async a=>{try{l(null);let b=await d.authAPI.googleLogin(a);n(b.user),h(!0)}catch(a){throw l(a?.message||a?.detail||"Google login failed"),a}},q=async a=>{try{l(null),await d.authAPI.register({email:a.email,password:a.password,first_name:a.full_name,company:a.company}),n(null),h(!1)}catch(a){throw l(a?.message||a?.detail||"Registration failed"),a}};return(0,b.jsx)(f.Provider,{value:{isAuthenticated:g,isLoading:i,error:k,user:m,login:o,loginWithGoogle:p,register:q,logout:()=>{d.tokenManager.clearTokens(),h(!1),n(null),l(null)},clearError:()=>{l(null)}},children:a})}function h(){let a=(0,c.useContext)(f);if(void 0===a)throw Error("useAuth must be used within an AuthProvider");return a}a.s(["AuthProvider",()=>g,"useAuth",()=>h])}];

//# sourceMappingURL=%5Broot-of-the-server%5D__ad499d15._.js.map