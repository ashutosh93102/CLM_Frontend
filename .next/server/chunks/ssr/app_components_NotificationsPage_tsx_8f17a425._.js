module.exports=[24120,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(98448);function e(){let[a,e]=(0,c.useState)([]),[f,g]=(0,c.useState)(!0),[h,i]=(0,c.useState)(null),[j,k]=(0,c.useState)("all");(0,c.useEffect)(()=>{l();let a=setInterval(l,3e4);return()=>clearInterval(a)},[]);let l=async()=>{try{g(!0),i(null);let a=await d.apiClient.getNotifications();if(a.success){let b=a.data,c=Array.isArray(b)?b:b.results||[];e(c)}else i(a.error||"Failed to fetch notifications")}catch(a){i(a instanceof Error?a.message:"Unknown error")}finally{g(!1)}},m=async a=>{try{let b=await d.apiClient.markNotificationAsRead(a);b.success?await l():i(b.error||"Failed to mark as read")}catch(a){i(a instanceof Error?a.message:"Unknown error")}},n="unread"===j?a.filter(a=>!a.read):a,o={total:a.length,unread:a.filter(a=>!a.read).length};return f&&0===a.length?(0,b.jsx)("div",{className:"flex items-center justify-center h-screen",children:(0,b.jsxs)("div",{className:"text-center",children:[(0,b.jsx)("div",{className:"w-12 h-12 rounded-full border-4 border-purple-200 border-t-purple-600 animate-spin mx-auto mb-4"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Loading notifications..."})]})}):(0,b.jsx)("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100 p-8",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto",children:[(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"Notifications"}),(0,b.jsx)("p",{className:"text-gray-600",children:"Stay updated with your contract activities"})]}),h&&(0,b.jsx)("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg text-red-700",children:h}),(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-8",children:[(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Total Notifications"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-gray-900 mt-2",children:o.total})]}),(0,b.jsxs)("div",{className:"bg-white rounded-lg p-6 shadow-md",children:[(0,b.jsx)("p",{className:"text-gray-600 text-sm font-medium",children:"Unread"}),(0,b.jsx)("p",{className:"text-3xl font-bold text-amber-700 mt-2",children:o.unread})]})]}),(0,b.jsxs)("div",{className:"mb-8 flex gap-2",children:[(0,b.jsxs)("button",{onClick:()=>k("all"),className:`px-4 py-2 rounded-lg font-medium transition ${"all"===j?"bg-purple-600 text-white":"bg-white text-gray-900 border border-gray-200 hover:bg-gray-50"}`,children:["All Notifications (",o.total,")"]}),(0,b.jsxs)("button",{onClick:()=>k("unread"),className:`px-4 py-2 rounded-lg font-medium transition ${"unread"===j?"bg-purple-600 text-white":"bg-white text-gray-900 border border-gray-200 hover:bg-gray-50"}`,children:["Unread (",o.unread,")"]}),(0,b.jsx)("button",{onClick:()=>l(),className:"ml-auto px-4 py-2 bg-white text-gray-900 rounded-lg border border-gray-200 hover:bg-gray-50 transition font-medium",children:"Refresh"})]}),(0,b.jsx)("div",{className:"space-y-3",children:0===n.length?(0,b.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8 text-center",children:[(0,b.jsx)("div",{className:"text-4xl mb-2",children:"ðŸ””"}),(0,b.jsx)("p",{className:"text-lg text-gray-600",children:"unread"===j?"No unread notifications":"No notifications"})]}):n.map(a=>(0,b.jsx)("div",{className:`bg-white rounded-lg shadow-md p-4 transition ${!a.read?"border-l-4 border-purple-600":""}`,children:(0,b.jsxs)("div",{className:"flex items-start gap-4",children:[(0,b.jsx)("div",{className:"text-2xl mt-1",children:(a=>{switch(a){case"approval_request":return"ðŸ“‹";case"approval_approved":return"âœ…";case"approval_rejected":return"âŒ";case"contract_created":return"ðŸ“„";case"workflow_completed":return"ðŸŽ‰";default:return"ðŸ“¢"}})(a.type)}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)("div",{className:"flex items-start justify-between gap-2 mb-1",children:[(0,b.jsx)("h3",{className:`font-bold ${!a.read?"text-gray-900":"text-gray-700"}`,children:a.subject}),(0,b.jsx)("span",{className:`px-2 py-1 rounded text-xs font-semibold ${(a=>{switch(a){case"approval_request":return"bg-blue-100 text-blue-700";case"approval_approved":return"bg-emerald-100 text-emerald-700";case"approval_rejected":return"bg-red-100 text-red-700";case"contract_created":return"bg-purple-100 text-purple-700";case"workflow_completed":return"bg-indigo-100 text-indigo-700";default:return"bg-gray-100 text-gray-700"}})(a.type)} whitespace-nowrap`,children:a.type.replace(/_/g," ")})]}),(0,b.jsx)("p",{className:"text-sm text-gray-600 mb-3",children:a.message}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsx)("p",{className:"text-xs text-gray-500",children:new Date(a.created_at).toLocaleString()}),(0,b.jsxs)("div",{className:"flex gap-2",children:[a.action_url&&(0,b.jsx)("a",{href:a.action_url,className:"text-purple-600 hover:text-purple-700 font-medium text-sm",children:"View â†’"}),!a.read&&(0,b.jsx)("button",{onClick:()=>m(a.id),className:"text-gray-600 hover:text-gray-900 font-medium text-sm",children:"Mark as read"})]})]})]})]})},a.id))})]})})}a.s(["default",()=>e])}];

//# sourceMappingURL=app_components_NotificationsPage_tsx_8f17a425._.js.map